+++
title = 'Go Templateの勉強 １日目'
date = 2024-10-15T22:59:20+09:00
categories = []
tags = []
[cover]
image = ''
alt = ''
+++
Hugoを始めたので、Go Templateについて勉強していく。

今日は１日目で、分かったことをまとめる。

> 参考にしたやつ
>  - [Hugo公式ドキュメント](https://gohugo.io/templates/introduction/)
>  - [Hugo日本語訳ドキュメント](https://juggernautjp.info/templates/)
> (日本語訳、ありがとうございます。。。✨)
>  - Claude 3.5 Sonnet

## 変数
コンテキストを指す`.`を使って表現する。
(コンテキストの詳細については後回し)

例えばこういうフロントマターを設定してて
```md
+++
title = 'hoge'
author = 'fuga'
+++
```
タイトルと著者を参照するときはこう
```go
{{ .Title }}
{{ .Params.author }}
```
ん？authorにだけ.Paramsが必要なの？と思いました。

.Titleはページ変数として事前に定義されているので、フロントマターから自動的に抽出されるらしいです。
[https://juggernautjp.info/variables/page/](https://juggernautjp.info/variables/page/)

authorは事前に定義されていないカスタム変数となるため、.Params.authorと書く必要があります。

カスタム変数はすべて.Params配下に定義されます。わかりやすいね。

## 条件分岐
さっきのフロントマターで考えるね
```md
+++
title = 'hoge'
author = 'fuga'
+++
```
### if
`{{ if condition }}`から`{{ end }}`まで。
 - conditionがあれば、表示する。
 - `{{ else if }}`と`{{ else }}`が使える。

> （例）authorがあれば著者を、なければAnonymousを表示する
```go
{{ if .Params.author }}
<p>著者: {{ .Params.author }}</p>
{{ else }}
<p>Anonymous</p>
{{ end }}
```

### with
`{{ with condition }}`から`{{ end }}`まで。

 - conditionがあれば、表示する。
 - `else`は使えるけど、`else if`は使えない。
 - コンテキスト(`.`)がconditionになる

さっきのauthorのif文は、次のように書き換えができる。
```go
{{ with .Params.author }}
<p>著者: {{ . }}</p>  // ここで . は .Params.author を指すよ
{{ else }}
<p>Anonymous</p>
{{ end }}
```
ifと似てるけど、ちょっと違う。

ちょっとだけ短くなってうれしいね。便利そうです。

## 繰り返し
### range
`{{ range items }}`から`{{ end }}`の繰り返しができます。

tagでやってみよう。
```md
+++
tags = ['go', 'template', 'learning']
+++
```
こういうのを全部表示したいときは
```go
{{ range .Params.tags }}
  <li>{{ . }}</li>
{{ end }}
```
これでOK。

ここでも`with`と同じように、コンテキストは`.Params.tags`に変わります。気を付けよう。

インデックスを使う方法もあるみたい。こんど調べてみよう。

***

今日はここまで。
またね👋